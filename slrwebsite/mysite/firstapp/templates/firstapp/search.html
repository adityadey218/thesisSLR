
{% extends "./base_page.html" %}

{% block content %}
<script type="text/javascript">
    var current_element = 1;
    function addKeyword() {
        current_element++;
        var node = document.createElement("div");
        node.setAttribute("style","display: flex; flex-direction: row; margin-top: 4px;")
        var text_input = document.createElement("input");
        text_input.setAttribute("type", "text");
        name = "text_keyword_" + current_element;
        text_input.setAttribute("name", name);
        text_input.setAttribute("id", name);
        text_input.setAttribute("class","form-control")
        text_input.setAttribute("style","flex: 6; margin: auto;");
        node.appendChild(text_input);
        document.getElementById("keyword_container").appendChild(node);
    }
</script>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default" >
            <div class="panel-heading">
                Search for keywords
            </div>
            <div class="panel-body" style="padding:2rem">
                <div class="row">
                    <form role="form" enctype="multipart/form-data"   method="post">
                    {% csrf_token %}
                        <div class="form-group">
                            <label>Keywords</label>
                            <div style="display: flex; flex-direction: column; width:50%" id="keyword_container">
                                <div>
                                    <input type="text" name="text_keyword_1" id="text_keyword_1" style="flex: 6" class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: row; width:50%; justify-content: space-between;">
                            <div style="flex: 1">
                                <button type="button" class="btn btn-default" style="width:80%"  onclick="addKeyword()" >Add more keywords</button>
                            </div>
                            <div style="flex: 1">
                                <button class="btn btn-primary" style="width:80%" type="submit" value="btnSearchKeywords" id="button_search">Search</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% if request.POST %}
<div class="panel panel-default">
    <div class="panel-heading">
        Keywords Search
    </div>
    <div class="panel-body">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Keyword part</th>
                        <th>count</th>
                        <th>Literature</th>
                    </tr>
                </thead>
                <tbody>
                    {% for k in kwsearchRs %}
                    <tr>
                        {% for p in k %}
                        <td>{{p}}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <input class="btn btn-primary" style="float:right" onclick="(()=>{window.location='/firstapp/quality_scoring.html'})()" type="button" value="Go to Quality Scoring" >
    </div>

</div>

{% endif %}
{% endblock %}